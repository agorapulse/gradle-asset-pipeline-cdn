plugins {
    id "com.gradle.plugin-publish" version "0.9.3"
}

apply plugin: 'com.gradle.plugin-publish'
apply plugin: 'groovy'

repositories {
    mavenCentral()
}

ext {
    awsApiVersion = '1.10.50'
}

dependencies {
    compile gradleApi()
    compile localGroovy()

    compile "com.amazonaws:aws-java-sdk-s3:$awsApiVersion"
    compile('com.bertramlabs.plugins:karman-aws-groovy:0.6.5') {
        exclude group: 'com.amazonaws' // Exclude full aws sdk lib
    }

    testCompile 'junit:junit:4.12'
}

group = 'agorapulse.plugins'
version = '0.1.1'

pluginBundle {
    website = 'https://github.com/agorapulse/gradle-asset-pipeline-cdn'
    vcsUrl = 'https://github.com/agorapulse/gradle-asset-pipeline-cdn'
    description = 'Asset-Pipeline CDN Gradle Plugin: assets upload task to distribute your assets on CDN providers.'
    tags = ['assets', 'resources', 'asset-pipeline', 'aws']

    plugins {
        assetPipelineCdnPlugin {
            id = 'agorapulse.plugins.asset-pipeline-cdn'
            displayName = 'Asset-Pipeline CDN Plugin'
        }
    }
}
